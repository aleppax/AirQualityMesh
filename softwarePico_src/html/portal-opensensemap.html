<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Outdoor PM station configuration</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="icon" href="data:,">
<style>
body{{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;color:#555}}
#co01{{color:#04aa6d}}
#co01{{padding-left:20px}}
#battery{{background-color: #d6ffd5;border-radius:6px;padding:16px;}}
br, label{{margin-bottom:5px;}}
mark{{background-color:#ace1ac}}
.rstrt{{background-color:#a92e04;color:white}}
.line-break-and-tab{{white-space: pre-wrap;}}
.spacer-row{{height: 5px;background:0 0;}}
.filled-row{{box-shadow: 0px 0px 3px 0px rgba(0,0,0,0.25);background:#ddd}}
#navbar{{max-width: 600px;padding:9px;border: 1px solid #e3e3e3;}}
.well{{max-width:600px;min-height:20px;padding:19px;margin-bottom:20px;background-color:#f5f5f5;border:1px solid #e3e3e3;border-radius:4px;box-shadow:inset 0 1px 1px rgba(0,0,0,0.05);padding:9px;border-radius:3px;background-image:-webkit-linear-gradient(top, #e8e8e8 0, #f5f5f5 100%);background-image:-o-linear-gradient(top, #e8e8e8 0, #f5f5f5 100%);background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0, #e8e8e8), to(#f5f5f5));background-image:linear-gradient(to bottom, #e8e8e8 0, #f5f5f5 100%);background-repeat:repeat-x;border-color:#dcdcdc;box-shadow:inset 0 1px 3px rgba(0,0,0,0.05),0 1px 0 rgba(255,255,255,0.1)}}
button{{display:inline-block;padding:6px 12px;margin:20px;font-size:16px;text-align:center;white-space:nowrap;vertical-align:middle;cursor:pointer;border-radius:4px;text-shadow:0 -1px 0 rgba(0,0,0,0.2);color:#fff;background-color:#5cb85c}}
.rendered-form{{margin:20px}}
.overflow{{overflow-x:auto;}};
.rendered-form .form-group{{margin:20px;box-sizing:border-box;display:block}}
.rendered-form .form-control{{height:34px;display:block;width:90%;padding:6px 12px;line-height:1.42857143;border-radius:4px;color:#555;background-color:#fff;border:1px solid #ccc;box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);}}
.topnav{{background-color:#555;overflow:hidden}}.topnav a{{float:left;display:block;color:#f2f2f2;text-align:center;padding:14px 16px;text-decoration:none;font-size:17px}}.active{{background-color:#04AA6D;color:white}}.topnav .icon{{display:none}}@media screen and (max-width: 600px){{.dropdown .dropbtn,.topnav a:not(:first-child){{display:none}}.topnav a.icon{{float:right;display:block}}}}@media screen and (max-width: 600px){{.topnav.responsive{{position:relative}}.topnav.responsive a.icon{{position:absolute;right:0;top:0}}.topnav.responsive a{{float:none;display:block;text-align:left}}.topnav.responsive .dropdown{{float:none}}.topnav.responsive .dropdown-content{{position:relative}}.topnav.responsive .dropdown .dropbtn{{display:block;width:100%;text-align:left}}}}
.slider-container{{width:100%;}}
.slider{{width:100%;-webkit-appearance:none;appearance:none;height:25px;background:#d3d3d3;outline:none;}}
.slider::-webkit-slider-thumb{{-webkit-appearance:none;appearance:none;width:25px;height:25px;background:#04AA6D;cursor:pointer}}.slider::-moz-range-thumb{{width:25px;height:25px;background:#04AA6D;cursor:pointer}}
.hidden{{display:none !important}}
</style>
</head>
<body>
<div class="topnav" id="navbar">
    <h1 id="co01" class="translate">Station configuration</h1>
    <a href="/basic" class="navbtn" id="basic">basic</a>
    <a href="/status" class="navbtn" id="status">status</a>
    <a href="/network" class="navbtn" id="network">network</a>
    <a href="/datalogger" class="navbtn" id="datalogger">datalogger</a>
    <a href="/opensensemap" class="navbtn active" id="opensensemap">opensensemap</a>
    <a href="/syslogger" class="navbtn" id="syslogger">syslogger</a>
    <a href="/mqtt" class="navbtn" id="MQTT">MQTT</a>
    <a href="/advanced" class="navbtn" id="advanced">advanced</a>
    <a href="/restart" class="navbtn rstrt" id="restart">restart</a>
    <a href="javascript:void(0);" class="icon" onclick="dropNav()">&#9776;</a>
    <h2 class="cat basic translate" id="Lang">Language</h2>
    <select class="cat form-group basic" name="lang" id="language-select">
    <option class="form-control" value="en">English</option>
    <option class="form-control" value="it">Italian</option>
    </select>
</div>
<div class="well">
<form class="rendered-form" id="rendered-form" action="" method="post">
    <h2 class="cat advanced translate" id="EWDT">Enable OpenSenseMap data submission</h2>
    <div class="cat form-group advanced">
        <label for="opensensemap_enable">if active, it enables the submission of measurements to <mark>OpensenseMap.org</mark>. <br> Opensensemap is a free service aggregating sensor data from all over the world. It requires registration.</label>
        <input class="form-control opensensemap_enable" name="opensensemap_enable" id="opensensemap_enable" type="checkbox" {opensensemap_enable}>
    </div>
    <h2 class="cat translate" id="Osms">OpenSenseMap server</h2>
    <div class="cat form-group">
        <label for="opensensemap-url">API server URL</label>
        <input class="form-control opensensemap-url" name="opensensemap-url" id="opensensemap-url" type="url" value="{opensensemap_url}">
    </div>
    <h2 class="cat translate" id="Osmt">OpenSenseMap token</h2>
    <div class="cat form-group">
        <label for="opensensemap_token">API token</label>
        <input class="form-control opensensemap_token" name="opensensemap_token" id="opensensemap_token" type="text" value="{opensensemap_token}">
    </div>
    <h2 class="cat translate" id="Osmb">senseBox ID</h2>
    <div class="cat form-group">
        <label for="senseBox_ID">OpenSenseMap senseBox ID</label>
        <input class="form-control senseBox_ID" name="senseBox_ID" id="senseBox_ID" type="text" value="{senseBox_ID}">
    </div>
    <h2 class="cat translate" id="Osmc">Temperature sensor ID</h2>
    <div class="cat form-group">
        <label for="temperature_ID">Temperature sensor ID</label>
        <input class="form-control temperature_ID" name="temperature_ID" id="temperature_ID" type="text" value="{temperature_ID}">
    </div>
    <h2 class="cat translate" id="Osmd">Humidity sensor ID</h2>
    <div class="cat form-group">
        <label for="humidity_ID">Humidity sensor ID</label>
        <input class="form-control humidity_ID" name="humidity_ID" id="humidity_ID" type="text" value="{humidity_ID}">
    </div>
    <h2 class="cat translate" id="Osme">Particulate matter sensor ID</h2>
    <div class="cat form-group">
        <label for="pm25_ID">PM sensor ID</label>
        <input class="form-control pm25_ID" name="pm25_ID" id="pm25_ID" type="text" value="{pm25_ID}">
    </div>
    <div class="cat form-group">
        <button class="translate" value="submit" id="Submit">Submit</button>
    </div>
</form>
</div>
<script>
function dropNav() {{
  var x = document.getElementById("navbar");
  if (x.className === "topnav") {{
    x.className += " responsive";
  }} else {{
    x.className = "topnav";
  }}
}};

const translations = {{
  'English': {{
    'co01': 'Station configuration',
    'Lang': 'Language',
    'Osms': 'OpenSenseMap server',
    'Osmt': 'OpenSenseMap token',
    'Osmb': 'senseBox ID',
    'Osmc': 'Temperature sensor ID',
    'Osmd': 'Humidity sensor ID',
    'Osme': 'Particulate matter sensor ID',
    'Submit': 'Submit'
  }},
  'Italian': {{
    'co01': 'Configurazione della stazione',
    'Lang': 'Lingua',
    'Osms': 'Server di OpenSenseMap',
    'Osmt': 'API Token di OpenSenseMap',
    'Osmb': 'ID del senseBox',
    'Osmc': 'ID del sensore di temperatura',
    'Osmd': 'ID del sensore di umidit√†',
    'Osme': 'ID del sensore di polveri sottili',
    'Submit': 'Salva'
  }}
}};

var lang_select = document.getElementById("language-select");

lang_select.addEventListener("change",function(e) {{
    let lang = lang_select.options[lang_select.selectedIndex].text;
    let texts = document.getElementsByClassName("translate");
    for (var i = 0; i < texts.length; i++) {{
        texts.item(i).textContent = translations[lang][texts.item(i).id];
    }}
}});

var submt = document.getElementById("Submit");
function myConfirmation() {{
    return 'Are you sure you want to leave?';
}};
window.onbeforeunload = myConfirmation;

document.getElementById("rendered-form").addEventListener("submit", function() {{
    window.onbeforeunload = null;
}});
window.addEventListener("load", (event) => {{
  onSlideMpday();
}});
</script>
</body>
</html>


